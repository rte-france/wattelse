<!--
  ~ Copyright (c) 2024, RTE (https://www.rte-france.com)
  ~ See AUTHORS.txt
  ~ SPDX-License-Identifier: MPL-2.0
  ~ This file is part of Wattelse, a NLP application suite.
  -->

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="utf-8">
    <title></title>
    <script>
        let llm_title ;
        if (window.location.pathname.includes("llm")) {
                llm_title = "WattElse GPT";
        } else {
                llm_title = "WattElse Doc"  ;
        }
        document.title = llm_title;
    </script>
    {% load static %}

    <!-- Use FonteAwsome icons : https://fontawesome.com/ -->
    <script src="https://kit.fontawesome.com/63730a0977.js" crossorigin="anonymous"></script>
    <!-- Load WattElse favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'chatbot/favicon.ico' %}">

    <!-- Use Open Sans Google font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
        rel="stylesheet">
</head>

<body>
    <!-- Load styles for every pages -->
    <link rel="stylesheet" href="{% static 'chatbot/global.css' %}">
    <link rel="stylesheet" href="{% static 'chatbot/chatbot.css' %}">
    <link rel="stylesheet" href="{% static 'chatbot/login_register.css' %}">

    <!-- Main top navigation bar -->
    <div class="main-navbar">

        <!-- WattElse title on the top-left -->
        <a href="/" class="wattelse-title">
            <i class="fa-solid fa-bolt-lightning" style="color: var(--main-color);"></i>
            <script>
               document.write(llm_title);
            </script>
        </a>

        <!-- If admin, add changing group form -->
        {% if user.is_superuser %}
            <form method="post" action="admin_change_group/">
                {% csrf_token %}
                <select name="new_group" onchange="this.form.submit()">
                    {% for group in admin_group_selection %}
                        {% if group == user_group %}
                            <option selected="selected">{{ group }}</option>
                        {% else %}
                            <option>{{ group }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </form>
        {% endif %}
        
        <!-- Buttons on the top-right -->
        <div class="top-right-tabs-list">
            {% if user.is_superuser %}
                <a href="/dashboard" target="_blank" class="tabs"><i class="fa-solid fa-chart-line"></i> Dashboard</a>
            {% endif %}

            <a href="https://rtefrance.sharepoint.com/:p:/s/Signauxfaibles/EWSFX7hKxb5GkiVizkddyo0BQIXcuWvUyP0HBHyPjiZdBw?e=hEYY3r" target="_blank" class="tabs"><i class="fa-solid fa-book-open-reader"></i> Documentation</a>
            <a href="https://github.com/rte-france/wattelse" target="_blank"
                class="tabs"><i class="fa-brands fa-github"></i> Code</a>
            <a href="https://teams.microsoft.com/l/channel/19%3Ack3mx8idGwpQZ82ObvTzCkOc-7YMPDU0uepRT21AA1E1%40thread.tacv2/General?groupId=182ac31c-7797-46d8-86c0-a610de9b20be&tenantId=8e72b185-f603-4217-8efe-0e0327d9381f"
                target="_blank" class="tabs"><i class="fa-solid fa-user-group"></i> Teams</a>
            <a href="mailto:jerome.picault@rte-france.com; guillaume.grosjean@rte-france.com; nicolas.bonnerot@rte-france.com; jerome.dejaegher@rte-france.com"
                class="tabs"><i class="fa-solid fa-envelope"></i> Contact</a>

            <!-- If user is is_authenticated show logout button -->
            {% if user.is_authenticated %}
            <a href="/logout" class="tabs"><i class="fa-solid fa-right-from-bracket"></i> DÃ©connexion</a>
            {% endif %}
        </div>
    </div>
    {% block content %}{% endblock %}
</body>

</html>